<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Havan - Loja Oficial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet"/>
    <link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/4ee687d42f.js" crossorigin="anonymous"></script>
    
    <script
      src="https://cdn.utmify.com.br/scripts/utms/latest.js"
      data-utmify-prevent-subids
      async
      defer
    ></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Nunito', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#0C3BDD',
                        'primary-hover': '#0A32B8',
                        'green-primary': '#00cf00' // Added green color
                    }
                }
            }
        }
    </script>
    <style>
        * {
            font-family: 'Nunito', sans-serif;
        }
        body {
            font-family: 'Nunito', sans-serif;
            background-color: white;
        }
        .main-product-image {
            opacity: 1;
            transition: all 0.3s ease-in-out;
        }

        .product-gallery {
            position: relative;
            max-width: 100%;
            overflow: hidden;
        }

        .main-image-container {
            position: relative;
            border-radius: 0.5rem;
            overflow: hidden;
            background-color: #f8f8f8;
        }

        .product-thumbnail {
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
            object-fit: contain;
            background-color: #f8f8f8;
            padding: 2px;
        }

        .product-thumbnail.active {
            border-color: #1899d5;
        }

        .product-thumbnail:hover {
            transform: scale(1.05);
        }

        #prevImage, #nextImage {
            opacity: 0;
            transition: all 0.2s ease-in-out;
        }

        .main-image-container:hover #prevImage,
        .main-image-container:hover #nextImage {
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            #prevImage, #nextImage {
                opacity: 0.8;
            }
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .thumbnails-container {
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            scrollbar-width: none;
            -ms-overflow-style: none;
            display: flex;
            gap: 0.75rem;
            padding: 0.5rem;
            margin-top: 1rem;
        }

        .product-thumbnail {
            flex: 0 0 auto;
            width: 4.5rem;
            height: 4.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            padding: 2px;
        }

        @media (min-width: 768px) {
            .product-thumbnail {
                width: 5rem;
                height: 5rem;
            }
        }

        .product-thumbnail.ring-2 {
            padding: 2px;
        }
        /* Estilos para a seção de frete */
        .fretefundo {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            background: linear-gradient(to right, #f8f9fa, #ffffff);
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 0.75rem;
            margin: 1rem 0;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .fretefundo:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .fretefundo img {
            width: 40px;
            height: auto;
            padding: 4px;
            margin-right: 0.75rem;
            filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1));
        }

        .ttl-frete {
            font-size: 0.9rem;
            line-height: 1.4;
            color: #4a5568;
            margin: 0;
        }

        .ttl-frete b {
            color: #2ecc71;
            font-size: 1rem;
            font-weight: 600;
        }

        .ip-frete {
            display: block;
            font-size: 0.85rem;
            color: #718096;
            margin-top: 0.15rem;
        }

        .ip-frete b {
            color: #4a5568;
            font-weight: 600;
        }

        @media (max-width: 640px) {
            .fretefundo {
                padding: 0.5rem;
            }

            .fretefundo img {
                width: 35px;
            }

            .ttl-frete {
                font-size: 0.85rem;
            }

            .ip-frete {
                font-size: 0.8rem;
            }
        }
        #fixed-buy-button {
            transition: all 0.3s ease-in-out;
            z-index: 999;
        }

        #nopadding {
            padding: 0 !important;
        }
        
        /* Estilos para as opções de pagamento */
        .payments-wrapper {
            margin-top: 1rem;
            padding: 0.75rem 0;
        }
        
        .payments-title {
            font-size: 0.875rem;
            color: #4a5568;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .payments-list {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .payment {
            display: flex;
            align-items: center;
            padding: 0.5rem 0.75rem;
            background-color: #f7f9fc;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .payment:hover {
            background-color: #edf2f7;
            border-color: #cbd5e0;
        }
        
        .payment i {
            margin-right: 0.5rem;
            color: #0C3BDD;
        }
        
        .payment.pix {
            background-color: #e9f9e6;
            border-color: #c5e8c1;
        }
        
        .payment.pix:hover {
            background-color: #d7f5d3;
            border-color: #b3e0ae;
        }
        
        .payment.pix i {
            color: #006627;
        }
        
        /* Estilos para o cálculo de frete */
        .shipping-quotation-wrapper {
            margin-top: 1.5rem;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1.25rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .shipping-quotation-input {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        
        .shipping-quotation-input label {
            font-weight: 600;
            color: #4a5568;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
            display: block;
        }
        
        .postcode-input {
            position: relative;
        }
        
        #product-shipping-postcode {
            border: 1px solid #cbd5e0;
            border-radius: 0.375rem;
            padding: 0.625rem 0.75rem;
            width: 100%;
            max-width: 200px;
            font-size: 0.95rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        #product-shipping-postcode:focus {
            outline: none;
            border-color: #0C3BDD;
            box-shadow: 0 0 0 3px rgba(12, 59, 221, 0.1);
        }
        
        .actions {
            margin-top: 0;
        }
        
        #product-shipping-button {
            background-color: #0C3BDD;
            color: white;
            border: none;
            border-radius: 0.375rem;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        #product-shipping-button:hover {
            background-color: #0a2eb8;
        }
        
        .cep-search-product {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.75rem;
            color: #4a5568;
            text-decoration: underline;
            cursor: pointer;
        }
        
        .delivery-warning {
            margin-top: 1rem;
            font-size: 0.8rem;
            color: #4a5568;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .delivery-warning i {
            color: #0C3BDD;
        }
        
        .product-shipping-table {
            width: 100%;
            margin-top: 1rem;
            border-collapse: collapse;
        }
        
        .carrier-title th {
            text-align: left;
            padding: 0.5rem 0;
            font-weight: 500;
            color: #4a5568;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .carrier-pickupstore td,
        .carrier-flatrate td {
            padding: 0.75rem 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .highlight {
            margin-bottom: 0.25rem;
        }
        
        .error-message {
            color: #e53e3e;
        }
        
        .calculating {
            display: flex;
            justify-content: center;
            padding: 1rem 0;
        }
    </style>
</head>
<body id="nopadding" class="bg-white">
    <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden flex items-center justify-center">
        <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-md w-full mx-4">
            <div class="flex justify-center mb-6">
                <div class="relative">
                    <div class="animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <i class="fas fa-shield-alt text-primary text-xl"></i>
                    </div>
                </div>
            </div>
            <h3 class="text-xl font-semibold text-gray-800 mb-2">Carregando Ambiente Seguro</h3>
            <p class="text-gray-600 text-sm mb-4">Preparando um ambiente seguro para sua transação...</p>
            <div class="flex items-center justify-center space-x-3">
                <i class="fas fa-lock text-green-500"></i>
                <span class="text-sm text-green-600">Conexão SSL Segura</span>
            </div>
        </div>
    </div>

    <header class="bg-primary shadow-md">
        <div class="container mx-auto px-4 py-3">
            <div class="header content flex items-center justify-between relative">
                <div class="flex items-center">
                    <a href="javascript:void(0);" onclick="history.go(-1);">
                        <button class="back-to-header text-white">
                            <i class="h-icon h-arrow-left text-xl"></i>
                        </button>
                    </a>
                    <a class="logo notlazy ml-3 -mt-1" href="{{ url_for('index') }}" title="Havan | Tudo num só Lugar">
                        <img alt="Havan | Tudo num só Lugar" class="h-4" src="https://www.havan.com.br/static/version1739247337/frontend/Havan/themeDefault/pt_BR/images/svg/logo-havan-slim-w.svg"/>
                    </a>
                </div>
                
                <div class="flex items-center">
                    <div class="block block-search hidden md:block mr-3">
                        <div class="block block-content">
                            <div class="bnly-search__input-container">
                                <form class="bn-search__field flex items-center bg-white rounded-md overflow-hidden">
                                    <input class="bn-search__input px-3 py-2 w-full outline-none text-sm" placeholder="Buscar na Havan" type="text">
                                    <button type="submit" class="bn-search__submit px-3 py-2 bg-white">
                                        <i class="h-icon h-search"></i>
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                    
                    <button id="search-icon" onclick="openSearchbar()" class="text-white focus:outline-none hover:text-gray-200 transition md:hidden">
                        <i class="h-icon h-search"></i>
                    </button>
                    
                    <nav aria-label="Navegação do usuário" class="navigation-my-account ml-3">
                        <button type="button" id="sidebar-collapse-button" aria-label="Botão Minha Conta" class="text-white focus:outline-none side-menu-toggle" onclick="toggleSideMenu()">
                            <i class="h-icon h-user"></i>
                        </button>
                    </nav>
                    
                    <div class="minicart-wrapper ml-3">
                        <a class="action showcart text-white focus:outline-none hover:text-gray-200 transition relative cart-toggle-btn" href="#" onclick="toggleCart()">
                            <i class="h-icon h-cart icon-minicart"></i>
                            <div class="minicart-ellipse">
                                <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center" id="cart-count">0</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container mx-auto px-4 py-2 flex items-center">
            <button class="get-my-location mr-3 text-[#334156] focus:outline-none" onclick="getLocation()" title="Coletar posição aproximada por GPS" aria-label="Coletar posição aproximada por GPS">
                <i class="h-icon h-location"></i>
            </button>
            <input type="tel" inputmode="numeric" name="postcode" id="shipping-postcode" class="bg-transparent text-[#334156] px-2 py-1 text-sm w-32 font-nunito font-bold placeholder-[#8596AD] placeholder-opacity-70 focus:outline-none" data-validate="{required:true, 'stripped-min-length': 9}" title="Código Postal" placeholder="Digite o CEP" maxlength="9">
            <span class="hidden-message text-sm text-red-200 ml-2" id="header-postcode-message-container"></span>
        </div>
    </header>

    <!-- Adicionar o ícone de localização no CSS -->
    <script>
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                document.getElementById("header-postcode-message-container").innerHTML = "Geolocalização não é suportada neste navegador.";
                document.getElementById("header-postcode-message-container").classList.remove("hidden");
            }
        }
        
        function showPosition(position) {
            // Aqui você pode implementar a lógica para converter coordenadas em CEP
            // Por enquanto, apenas mostramos uma mensagem
            document.getElementById("header-postcode-message-container").innerHTML = "Localização obtida com sucesso!";
            document.getElementById("header-postcode-message-container").classList.remove("hidden");
            
            // Após alguns segundos, esconde a mensagem
            setTimeout(function() {
                document.getElementById("header-postcode-message-container").classList.add("hidden");
            }, 3000);
        }
    </script>

    <!-- Side Menu -->
    <div id="side-menu" class="fixed inset-y-0 left-0 w-64 bg-gray-800 shadow-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-50">
        <div class="flex flex-col h-full">
            <div class="p-4 border-b border-gray-700">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-white">Menu</h3>
                    <button onclick="toggleSideMenu()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <nav class="flex-1 overflow-y-auto py-4">
                <!-- Categories -->
                <div class="px-4 mb-4">
                    <button onclick="toggleSubmenu('categories')" 
                            class="w-full flex items-center justify-between text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <div class="flex items-center">
                            <i class="fas fa-th-large mr-2"></i>
                            <span>Categorias</span>
                        </div>
                        <i class="fas fa-chevron-down transition-transform" id="categories-arrow"></i>
                    </button>
                    <div id="categories-submenu" class="hidden mt-2 ml-4 space-y-1">
                        <a href="#" class="block text-gray-400 hover:text-white transition p-2 hover:bg-gray-700 rounded-lg">Suplementos</a>
                        <a href="#" class="block text-gray-400 hover:text-white transition p-2 hover:bg-gray-700 rounded-lg">Vitaminas</a>
                        <a href="#" class="block text-gray-400 hover:text-white transition p-2 hover:bg-gray-700 rounded-lg">Proteínas</a>
                    </div>
                </div>

                <!-- Products -->
                <div class="px-4 space-y-1">
                    <a href="#" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-dumbbell mr-2"></i>
                        <span>Whey Protein</span>
                    </a>

                    <a href="#" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-flask mr-2"></i>
                        <span>Creatina</span>
                    </a>

                    <a href="#" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-bolt mr-2"></i>
                        <span>Pré-treino</span>
                    </a>
                </div>

                <div class="my-4 border-t border-gray-700"></div>

                <!-- Informational Pages -->
                <div class="px-4 space-y-1">
                    <a href="{{ url_for('about') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-info-circle mr-2"></i>
                        <span>Quem Somos</span>
                    </a>

                    <a href="{{ url_for('contact') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-headset mr-2"></i>
                        <span>Fale Conosco</span>
                    </a>

                    <a href="{{ url_for('privacy') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-shield-alt mr-2"></i>
                        <span>Segurança e Privacidade</span>
                    </a>

                    <a href="{{ url_for('exchange') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-exchange-alt mr-2"></i>
                        <span>Política de Troca</span>
                    </a>

                    <a href="{{ url_for('order_shipping') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-shipping-fast mr-2"></i>
                        <span>Envio da Encomenda</span>
                    </a>

                    <a href="{{ url_for('delivery') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-truck mr-2"></i>
                        <span>Política de Entrega</span>
                    </a>

                    <a href="{{ url_for('faq') }}" class="flex items-center text-gray-300 hover:text-white transition p-2 rounded-lg hover:bg-gray-700">
                        <i class="fas fa-question-circle mr-2"></i>
                        <span>Perguntas Frequentes</span>
                    </a>
                </div>
            </nav>
        </div>
    </div>

    <script>
        function toggleSubmenu(id) {
            const submenu = document.getElementById(id + '-submenu');
            const arrow = document.getElementById(id + '-arrow');
            
            if (submenu.classList.contains('hidden')) {
                submenu.classList.remove('hidden');
                arrow.style.transform = 'rotate(180deg)';
            } else {
                submenu.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }
    </script>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-80 bg-white shadow-xl transform translate-x-full transition-transform duration-300 ease-in-out z-50">
        <div class="flex flex-col h-full">
            <div class="p-4 border-b">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold">Carrinho</h3>
                    <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700 cart-toggle-btn">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div id="cart-items" class="flex-1 overflow-y-auto p-4 space-y-4">
                <!-- Cart items will be added here dynamically -->
            </div>

            <div class="border-t p-4 bg-white">
                <!-- Adicionar campo de cupom de desconto -->
                <div class="mb-4 border border-gray-200 rounded-lg p-2">
                    <div class="flex items-center">
                        <div class="flex-1">
                            <div class="relative">
                                <input type="text" id="discount-coupon" placeholder="Cupom de desconto" class="w-full py-2 px-3 border-0 focus:ring-0 focus:outline-none text-sm">
                                <label for="discount-coupon" class="absolute top-0 left-0 h-full flex items-center pl-3 text-primary">
                                    <i class="fas fa-tag text-sm"></i>
                                </label>
                            </div>
                        </div>
                        <button onclick="applyCoupon()" class="ml-2 bg-primary hover:bg-primary-hover text-white py-2 px-4 rounded text-sm">
                            Aplicar
                        </button>
                    </div>
                    <div id="coupon-message" class="text-xs mt-1 hidden"></div>
                </div>
                <div class="flex justify-between items-center mb-4">
                    <span class="text-gray-600">Total:</span>
                    <span class="text-xl font-bold text-primary" id="cart-total">R$ 0,00</span>
                </div>
                <button onclick="startCheckout()" class="w-full bg-primary btn-primary py-3 px-4 rounded-lg text-white text-sm font-medium hover:bg-primary-hover hover:bg-opacity-90 transition disabled:opacity-50" id="checkout-button" disabled>
                    Finalizar Compra
                </button>
            </div>
        </div>
    </div>

    <main class="container mx-auto px-4 py-8">
        <div class="grid md:grid-cols-2 gap-8">
            <div>
                <div class="product-gallery relative">
                    <div class="flex justify-end mb-2">
                        <p class="text-gray-600 text-sm">Cód.: 45HJFI09C2WB</p>
                    </div>
                    <div class="main-image-container relative touch-manipulation">
                        <button class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-primary p-2 rounded-r-lg shadow-md z-10 transition-all md:p-3" id="prevImage">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <img alt="Ar-Condicionado Split Inverter II 9000 BTUs Elgin Eco" class="w-full rounded-lg shadow-md main-product-image object-contain aspect-square" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/9ebb6c755d778e6968dbac5a054312c6.jpeg" id="mainProductImage"/>
                        <button class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white text-primary p-2 rounded-l-lg shadow-md z-10 transition-all md:p-3" id="nextImage">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        
                        <!-- Novo contador de estado com traços horizontais no estilo Havan -->
                        <div class="fotorama__nav__shaft flex justify-center items-center mt-4 mb-3" id="dotsContainer">
                            <!-- Os traços serão adicionados via JavaScript -->
                        </div>
                        
                        <!-- Miniaturas ocultas para referência de imagens -->
                        <div class="hidden">
                            <img alt="Vista Principal" class="product-thumbnail" data-index="0" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/9ebb6c755d778e6968dbac5a054312c6.jpeg"/>
                            <img alt="Vista Interna" class="product-thumbnail" data-index="1" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/0a330154da2476f836c1c5368a430e28.jpeg"/>
                            <img alt="Vista Externa" class="product-thumbnail" data-index="2" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/cf9d34aa939fc1d1fd82fb6e8e5b56e0.jpeg"/>
                            <img alt="Controle Remoto" class="product-thumbnail" data-index="3" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/9bfded62d9e713b08b90e961fe94dab7.jpeg"/>
                            <img alt="Aplicativo" class="product-thumbnail" data-index="4" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/463707ccc0c448e0e14058c0abea65f1.jpeg"/>
                            <img alt="Unidade Externa" class="product-thumbnail" data-index="5" src="https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/f4505da05fd032d5543ae5de0bf612d8.jpeg"/>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="product-info">
                <!-- Novos quadrados com ícones -->
                <div class="flex items-center mb-4 gap-2">
                    <!-- Quadrado de compartilhar -->
                    <a href="#" class="w-12 h-12 bg-[#e8f1ff] rounded-md flex items-center justify-center">
                        <i class="h-icon h-share"></i>
                    </a>
                    
                    <!-- Quadrado de favoritar -->
                    <a href="#" class="w-12 h-12 bg-[#e8f1ff] rounded-md flex items-center justify-center">
                        <i class="h-icon h-heart"></i>
                    </a>
                    
                    <!-- Quadrado mais aberto com "Detalhes do produto" -->
                    <a href="#" class="flex-1 h-12 bg-[#e8f1ff] rounded-md flex items-center px-4">
                        <i class="h-icon h-list2 mr-2"></i>
                        <span class="text-[#0C3BDD] font-medium">Detalhes do produto</span>
                    </a>
                </div>
                
                <!-- Área da toalha de rosto (não totalmente clicável) -->
                <div class="product-area">
                    <div class="page-title-wrapper product mb-2">
                        <h1 class="page-title">
                            <span class="base font-bold text-lg md:text-2xl" data-ui-id="page-title-wrapper" itemprop="name">Ar-Condicionado Split Inverter II 9000 BTUs Elgin Eco com Wi-Fi Integrado High Wall</span>
                        </h1>
                        
                        <div class="product-reviews-summary empty">
                            <div class="reviews-actions">
                                <!-- Apenas este elemento é clicável -->
                                <a class="action add">
                                    Seja o primeiro a avaliar este produto            
                                </a>
                            </div>
                        </div>
                        
                        <div class="product-info-price">
                            <div class="price-box price-final_price" data-role="priceBox" data-product-id="679956" data-price-box="product-id-679956">
                                <!-- Preço antigo acima -->
                                <div class="old-price mb-0">
                                    <span class="price-container price-final_price tax weee">
                                        <span class="price-label"></span>
                                        <span id="old-price-679956" data-price-amount="189.90" data-price-type="oldPrice" class="price-wrapper text-gray-500 text-xs line-through"><span class="price">R$&nbsp;189,90</span></span>
                                    </span>
                                </div>
                                <!-- Preço atual maior e azul -->
                                <div class="special-price">
                                    <span class="price-container price-final_price tax weee" itemprop="offers" itemscope="" itemtype="http://schema.org/Offer">
                                        <span class="price-label sr-only">Preço especial</span>
                                        <span id="product-price-679956" data-price-amount="189.90" data-price-type="finalPrice" class="price-wrapper"><span class="price text-primary text-3xl font-bold">R$&nbsp;189,90</span></span>
                                        <meta itemprop="price" content="189.90">
                                        <meta itemprop="priceCurrency" content="BRL">
                                    </span>
                                </div>
                                
                                <!-- Opções de parcelamento integradas sem espaçamento -->
                                <div class="installment-options mt-0">
                                    <div class="installment-price product-list-price text-sm">
                                        <span>Em até <span class="installments font-medium">12x</span> de <span class="price font-medium">R$&nbsp;15,83</span> sem juros no cartão de crédito</span>
                                    </div>
                                    <div data-bind="scope: 'installments'" class="text-xs text-gray-500 mt-0">
                                        <!-- ko template: getTemplate() -->
                                        <a href="#" class="action open-installments hover:text-primary transition-colors text-xs" data-trigger="trigger-installments" data-bind="visible: buttonVisibility">
                                            <span data-bind="i18n: 'Show installments'">Ver mais opções de parcelamento</span>
                                        </a>
                                        <!-- /ko -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                    

                      
                <div data-bind="scope: 'payment-options'">
                    <!-- ko template: getTemplate() --><div class="payments-wrapper">
                    <div class="payments-title">Opções de pagamento:</div>
                    <div class="payments-list">
                        <div class="payment pix" data-trigger="trigger-installments"><i class="fa-brands fa-pix"></i><span>Pix</span></div>
                    </div>
                </div>
                <!-- /ko -->
                </div>

                <!-- Buy Button -->
                <div class="mt-6">
                    <button onclick="addToCart('Ar-Condicionado Split Inverter II 9000 BTUs Elgin Eco', 189.90, 'https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/9ebb6c755d778e6968dbac5a054312c6.jpeg')" class="w-full bg-green-primary hover:bg-green-600 text-white font-bold py-4 px-6 rounded-lg transition-colors duration-300 flex items-center justify-center add-to-cart-btn">
                        <i class="fas fa-shopping-cart mr-2"></i>
                        <span class="text-lg">COMPRAR AGORA</span>
                    </button>
                </div>

                <div class="shipping-quotation-wrapper margin-effect"><div class="product-estimate-shipping product-shipping">
                    <form id="shipping-quotation" novalidate="novalidate">
                        <div class="fieldset">
                            <div class="field shipping-quotation">
                                <div class="field shipping-quotation-input">
                                    <label class="label" for="product-shipping-postcode">
                                        <span>Calcule o valor do frete e prazo de entrega</span>
                                    </label>
                                    <div class="flex flex-wrap items-center gap-2">
                                        <div class="postcode-input flex-grow" data-bind="scope: 'autoFill'">
                                            <input type="tel" inputmode="numeric" name="postcode" id="product-shipping-postcode" data-validate="{required:true, 'stripped-min-length': 9}" title="Código Postal" placeholder="Digite o CEP" data-bind="
                                                    value: CEP,
                                                    attr: {
                                                            placeholder: PlaceHolder
                                                    },
                                                    mageInit: {
                                                        'maskInput': {
                                                            'field': 'postcode'
                                                        }
                                                    }
                                                " maxlength="9">
                                        </div>
                                        <div class="actions">
                                            <button type="submit" id="product-shipping-button" title="Calcular" class="action primary small">
                                                <span>Calcular</span>
                                            </button>
                                        </div>
                                    </div>
                                    <span class="cep-search-product">
                                        <a href="https://buscacepinter.correios.com.br/app/endereco/index.php" target="_blank" class="text-primary hover:underline">Não sabe seu CEP?</a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </form>
                    <p class="delivery-warning">
                        <i class="fas fa-calendar-alt"></i>
                        Os prazos de entrega começam a contar a partir da confirmação de pagamento!
                    </p>
                    <div class="field shipping-quotation-result" id="shipping-quotation-result"></div>
                </div>



                <script type="text/x-magento-template" id="shipping-table">
                    <div class="shipping-table-wrapper">
                        <table class="product-shipping-table">
                            <% if(data.error) { %>
                            <div> <%= data.error %> </div>
                            <% } %>
                            <% var pickup = false %>
                            <% var shipping = false %>
                            <% _.each(data.carriers, function(carrier){ %>
                            <% if (carrier.carrier) { %>
                            <%= (carrier.carrier == 'pickupstore' && !pickup) ?
                                '<tr class="carrier-title"><th>Retire em loja</th><th></th></tr>':
                                '' %>
                            <% if (carrier.carrier == 'pickupstore' && !pickup) {pickup = true}  %>
                            <%=
                            (carrier.carrier != 'pickupstore' && carrier.showTr==1 && !shipping) ?
                            '<tr class="carrier-title"><th>Entrega</th><th></th></tr>':
                            ''
                            %>
                            <% if (carrier.carrier != 'pickupstore' && !shipping) {shipping = true}  %>
                                <tr class="carrier-<%= carrier.carrier %>">
                                    <td class="method-title">
                                        <div>
                                            <div class="description">
                                                <% if(carrier.carrier == 'pickupstore') { %>
                                                    <% if(carrier.method_title == 'Não disponível') { %>
                                                        <p class="error-message">Não disponível</p>
                                                    <% } else { %>
                                                        <p class="highlight">
                                                            <% if (carrier.code != "pickupstore_error") { %>
                                                                <b><%= carrier.carrier_title %></b>
                                                                <p>Retirar na loja <b>R$0,00</b></p>
                                                            <% } else { %>
                                                                <p class="error-message">
                                                                    <%= carrier.error_message %>
                                                                </p>
                                                            <% } %>
                                                        </p>
                                                    <% } %>

                                                <% } else { %>
                                                    <% if(carrier.method_title) { %>
                                                        <p class="highlight"><b><%= carrier.carrier_title %></b></p>
                                                        <p>
                                                            <%= carrier.method_title %>
                                                            <b><%= carrier.price %></b>
                                                        </p>
                                                    <% } else { %>
                                                        <p class="error-message"><%= carrier.error_message %></p>
                                                    <% } %>
                                                <% } %>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            <% }}) %>
                            <tr class="warning-message" style="display: none">
                                <td>
                                    <p>
                                        A retirada em loja está disponível apenas para compras realizadas por pessoas físicas (CPF),
                                        enquanto a modalidade pessoa jurídica (CNPJ) não é elegível para essa opção.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                </script>
                <button id="btn-readmore" style="display: none">Ver mais</button>

                <script type="text/x-magento-template" id="loading-state">
                    <div class=calculating>
                        <img class="notlazy" src="https://www.havan.com.br/static/version1739247337/frontend/Havan/Mobile/pt_BR/images/loader-1.gif"
                            alt="Loading">
                    </div>


                </script>
                <script type="text/javascript">
                    window.havanData = {
                        config: {
                            autoRating: !!(0),
                            blockPickupCnpj: !!(1),
                            customerType: 'guest',
                            isProductConfigurable: !!(0)
                        }
                    };
                </script>
                </div>

            <div class="mt-12">
                <div class="bg-white rounded-lg shadow-sm p-6">
                    <div class="mt-12 space-y-8">
                        <!-- Descrição do Produto -->
                        <section class="space-y-8">
                            <h2 class="text-2xl font-semibold text-gray-800 flex items-center border-b pb-4">
                                <i class="fas fa-info-circle text-primary mr-3"></i>
                                Descrição do Produto
                            </h2>

                            <!-- Product Overview -->
                            <div class="prose max-w-none text-gray-700">
                                <p class="text-xl font-medium text-gray-800 mb-4">
                                    Conforto térmico com tecnologia e economia para seu ambiente
                                </p>
                                <p class="leading-relaxed mb-6">
                                    O Ar-Condicionado Split Inverter II 9000 BTUs Elgin Eco com Wi-Fi Integrado High Wall Só Frio é uma revolução em climatização residencial, oferecendo controle total na ponta dos dedos com Wi-Fi integrado para ajustes personalizados via smartphone. Destacando-se pela inovação e praticidade, este ar-condicionado proporciona comodidade máxima.
                                </p>
                                <p class="leading-relaxed mb-6">
                                    A garantia de 3 anos para instalações por parceiros credenciados Elgin e 10 anos no compressor a partir de 01/01/2022 garantem durabilidade e desempenho excepcionais. Com Classificação A no INMETRO, o Split Inverter II Elgin Eco proporciona economia energética, estabilidade térmica e longa vida útil, usando o gás ecológico R32 para respeitar o meio ambiente.
                                </p>
                                <p class="leading-relaxed mb-6">
                                    Seu design inovador inclui um Display Invisível na unidade interna, podendo ser desligado durante a noite. O Controle Remoto Iluminado facilita o uso em ambientes com pouca luz, proporcionando uma experiência completa de conforto climático.
                                </p>

                                <h3 class="text-lg font-semibold text-gray-800 mt-8 mb-4">Características Principais</h3>

                                <!-- Tecnologia Inverter Section -->
                                <div class="bg-white rounded-lg p-6 shadow-sm mb-6">
                                    <h4 class="text-lg font-semibold text-primary mb-3">1. Tecnologia Inverter II</h4>

                                    <div class="space-y-4">
                                        <div>
                                            <p class="font-medium text-gray-700">Descrição:</p>
                                            <p class="text-gray-600">Sistema avançado que ajusta automaticamente a potência do compressor, garantindo maior eficiência energética.</p>
                                        </div>

                                        <div>
                                            <p class="font-medium text-gray-700">Diferenciais:</p>
                                            <ul class="list-disc pl-5 text-gray-600 space-y-1">
                                                <li>Classificação A no INMETRO: Mais economia, menor oscilação de temperatura e maior durabilidade.</li>
                                                <li>Mantém a temperatura estável sem oscilações.</li>
                                                <li>Funcionamento mais silencioso e durável.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- Wi-Fi Integrado Section -->
                                <div class="bg-white rounded-lg p-6 shadow-sm mb-6">
                                    <h4 class="text-lg font-semibold text-primary mb-3">2. Wi-Fi Integrado</h4>

                                    <div class="space-y-4">
                                        <div>
                                            <p class="font-medium text-gray-700">Descrição:</p>
                                            <p class="text-gray-600">Controle total do aparelho pelo smartphone, mesmo quando estiver fora de casa.</p>
                                        </div>

                                        <div>
                                            <p class="font-medium text-gray-700">Diferenciais:</p>
                                            <ul class="list-disc pl-5 text-gray-600 space-y-1">
                                                <li>Controle remoto via dispositivos móveis ou computadores.</li>
                                                <li>Ajustes de temperatura de qualquer lugar com acesso à internet.</li>
                                                <li>Programação de horários de funcionamento.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- Design e Usabilidade Section -->
                                <div class="bg-white rounded-lg p-6 shadow-sm mb-6">
                                    <h4 class="text-lg font-semibold text-primary mb-3">3. Design e Usabilidade</h4>

                                    <div class="space-y-4">
                                        <div>
                                            <p class="font-medium text-gray-700">Descrição:</p>
                                            <p class="text-gray-600">Design moderno com recursos que facilitam o uso e melhoram a experiência do usuário.</p>
                                        </div>

                                        <div>
                                            <p class="font-medium text-gray-700">Diferenciais:</p>
                                            <ul class="list-disc pl-5 text-gray-600 space-y-1">
                                                <li>Display Invisível: Indicação de temperatura que se acende ao ligar e pode ser desligado para um ambiente tranquilo durante a noite.</li>
                                                <li>Controle Remoto Iluminado: Design moderno e visor iluminado para uso em ambientes com baixa luminosidade.</li>
                                                <li>Modo de resfriamento rápido para rapidamente abaixar a temperatura ambiente.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Especificações Técnicas Section -->
                                <div class="bg-white rounded-lg p-6 shadow-sm mb-6">
                                    <h4 class="text-lg font-semibold text-primary mb-3">4. Especificações Técnicas</h4>

                                    <div class="space-y-4">
                                        <div>
                                            <p class="font-medium text-gray-700">Informações Gerais:</p>
                                            <ul class="list-disc pl-5 text-gray-600 space-y-1">
                                                <li>Capacidade: 9000 BTUs</li>
                                                <li>Tipo: Split High Wall</li>
                                                <li>Ciclo: Só Frio</li>
                                                <li>Tecnologia: Inverter II</li>
                                                <li>Modelo: 45HJFI09C2WB/45HJFE09C2CB</li>
                                                <li>Gás Refrigerante: R32 (Ecológico, sem agredir a camada de ozônio e baixo potencial de aquecimento global)</li>
                                                <li>Classificação Energética: A (Selo Procel)</li>
                                                <li>Voltagem: 220V</li>
                                                <li>Garantia: 3 anos para instalações por parceiros credenciados Elgin e 10 anos no compressor a partir de 01/01/2022</li>
                                            </ul>
                                        </div>

                                        <div>
                                            <p class="font-medium text-gray-700">Dimensões:</p>
                                            <ul class="list-disc pl-5 text-gray-600 space-y-1">
                                                <li>Unidade Interna (LxAxP): 80,2 x 28,9 x 18,9 cm</li>
                                                <li>Unidade Externa (LxAxP): 72,0 x 49,5 x 27,0 cm</li>
                                                <li>Peso Unidade Interna: 8,5 kg</li>
                                                <li>Peso Unidade Externa: 23,5 kg</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <!-- Price and Benefits -->
                                <div class="bg-white p-6 rounded-lg mt-8 border border-gray-100">
                                    <h3 class="text-xl font-semibold text-primary mb-4">Ar-Condicionado de alta tecnologia por apenas R$ 2.199,00</h3>

                                    <div class="space-y-2">
                                        <div class="flex items-center text-gray-700">
                                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                            <p>Frete grátis para todo o Brasil.</p>
                                        </div>
                                        <div class="flex items-center text-gray-700">
                                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                            <p>Garantia de 3 anos para instalações por parceiros credenciados Elgin e 10 anos no compressor.</p>
                                        </div>
                                        <div class="flex items-center text-gray-700">
                                            <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                            <p>Instalação não inclusa, consulte valores adicionais.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Warranty Section -->
                            <div class="bg-white rounded-xl p-8 border border-gray-100 hover:shadow-lg transition-shadow duration-300 mt-8">
                                <div class="flex flex-col md:flex-row items-center justify-between">
                                    <div class="md:w-2/3 space-y-4">
                                        <div class="flex items-center mb-4">
                                            <div class="w-12 h-12 flex items-center justify-center bg-green-100 rounded-full">
                                                <i class="fas fa-shield-alt text-green-600 text-xl"></i>
                                            </div>
                                            <h3 class="text-xl font-semibold text-gray-800 ml-4">Garantia Havan ™ </h3>
                                        </div>
                                        <p class="text-gray-700 leading-relaxed">
                                            Oferecemos <strong>30 dias de garantia</strong> para garantir a sua satisfação com nosso produto, nossa política de garantia inclui:
                                        </p>
                                        <ul class="space-y-3">
                                            <li class="flex items-center text-gray-700">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Troca imediata em caso de defeito ou insatisfação</span>
                                            </li>
                                            <li class="flex items-center text-gray-700">
                                                <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                                <span>Frete grátis na devolução</span>
                                            </li>
                                        </ul>
                                        <div class="mt-4 pt-4 border-t border-gray-200">
                                            <p class="text-sm text-gray-600">
                                                Para mais informações sobre nossa garantia, entre em contato com nosso suporte.
                                            </p>
                                        </div>
                                    </div>
                                    <div class="md:w-1/3 flex justify-center mt-6 md:mt-0">
                                        <img src="https://ederprado.com/wp-content/uploads/2021/10/Selo-de-Garantia-de-30-Dias-PNG-Transparente-Sem-Fundo.png"
                                             alt="Selo de Garantia 30 Dias"
                                             class="w-48 h-48 object-contain"
                                        />
                                    </div>
                                </div>
                            </div>

                            <!-- FAQ Section -->
                            <div class="mt-12 bg-white rounded-xl p-8 border border-gray-100 hover:shadow-lg transition-shadow duration-300">
                                <div class="flex items-center mb-8">
                                    <div class="w-12 h-12 flex items-center justify-center bg-primary/20 rounded-full">
                                        <i class="fas fa-question-circle text-primary text-xl"></i>
                                    </div>
                                    <h3 class="text-2xl font-semibold text-gray-800 ml-4">Perguntas Frequentes</h3>
                                </div>

                                <!-- FAQ Accordion -->
                                <div class="space-y-4" id="faqAccordion">
                                    <!-- Garantia dos Produtos -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Garantia dos Produtos</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">Sim! Todos os nossos produtos têm garantia contra defeitos de fabricação. Se houver qualquer problema, basta entrar em contato com nosso suporte para assistência.</p>
                                        </div>
                                    </div>

                                    <!-- Prazo de Entrega -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Prazo de Entrega</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">O prazo de entrega varia de acordo com a sua localização, mas geralmente é de 10 a 30 dias úteis para todo o Brasil. Após a confirmação do pagamento, você receberá um e-mail com o código de rastreamento.</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Formas de Pagamento -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Formas de Pagamento</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">Por conta da demanda, não aceitamos cartões de crédito. Aceitamos somente PIX.</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Política de Troca -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Política de Troca</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">Você tem até 7 dias após o recebimento para solicitar a troca ou devolução por arrependimento. Para produtos com defeito, o prazo é de 30 dias. Entre em contato com nosso suporte para iniciar o processo.</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Instalação -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Instalação</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">A instalação não está inclusa no valor do produto. Recomendamos a contratação de um técnico especializado para garantir o funcionamento adequado do aparelho e a validade da garantia. Podemos indicar parceiros credenciados Elgin em sua região.</p>
                                        </div>
                                    </div>
                                    
                                    <!-- Testes de Qualidade dos Produtos -->
                                    <div class="border border-gray-200 rounded-lg overflow-hidden">
                                        <button class="w-full flex items-center justify-between p-4 text-left bg-white hover:bg-white transition-colors duration-200 faq-button" onclick="toggleFAQ(this)">
                                            <span class="text-gray-800 font-medium">Testes de Qualidade dos Produtos</span>
                                            <i class="fas fa-chevron-down text-gray-500 transition-transform duration-200"></i>
                                        </button>
                                        <div class="faq-content hidden bg-white p-4 border-t border-gray-200">
                                            <p class="text-gray-700">Todos os produtos passam por rigorosos testes de qualidade antes de serem enviados. A Elgin é uma marca reconhecida no mercado pela qualidade e durabilidade de seus produtos.</p>
                                        </div>
                                    </div>
                                </div>

                                <script>
                                    function toggleFAQ(button) {
                                        const content = button.nextElementSibling;
                                        const icon = button.querySelector('.fa-chevron-down');

                                        // Toggle the content visibility
                                        content.classList.toggle('hidden');

                                        // Rotate the icon
                                        if (content.classList.contains('hidden')) {
                                            icon.style.transform = 'rotate(0deg)';
                                        } else {
                                            icon.style.transform = 'rotate(180deg)';
                                        }

                                        // Close other open FAQs
                                        const allContents = document.querySelectorAll('.faq-content');
                                        const allIcons = document.querySelectorAll('.fa-chevron-down');

                                        allContents.forEach((item, index) => {
                                            if (item !== content) {
                                                item.classList.add('hidden');
                                                allIcons[index].style.transform = 'rotate(0deg)';
                                            }
                                        });
                                    }
                                </script>
                            </div>
                            <!-- End FAQ Section -->
                        </section>
                    </div>
                </div>
            </div>

            <div class="mt-12">
                <!-- Reviews Section -->
                <div id="reviews" class="mt-12 bg-white rounded-xl p-6 shadow-sm">
                    <div class="text-center mb-8">
                        <h2 class="text-2xl font-semibold text-gray-800">Avaliações dos Clientes</h2>
                    </div>

                    <!-- Rating Statistics -->
                    <div class="max-w-2xl mx-auto mb-12">
                        <!-- Average Rating -->
                        <div class="flex items-center justify-center">
                            <div class="text-center">
                                <div class="text-6xl font-bold text-yellow-500" id="average-rating">4.8</div>
                                <div class="flex text-yellow-500 justify-center mt-2">
                                    <i class="fas fa-star text-xl"></i>
                                    <i class="fas fa-star text-xl"></i>
                                    <i class="fas fa-star text-xl"></i>
                                    <i class="fas fa-star text-xl"></i>
                                    <i class="fas fa-star-half-alt text-xl"></i>
                                </div>
                                <div class="text-gray-500 mt-2 text-lg">
                                    <span id="total-reviews">1.842</span> avaliações
                                </div>
                            </div>
                        </div>

                        <!-- Rating Bars -->
                        <div class="mt-8 space-y-3 max-w-xl mx-auto">
                            <div id="rating-bar-5" class="flex items-center">
                                <div class="text-sm text-gray-600 w-12">5 ★</div>
                                <div class="flex-1 h-4 bg-gray-100 rounded-full mx-2 overflow-hidden">
                                    <div class="progress-bar h-full bg-yellow-500" style="width: 80%"></div>
                                </div>
                                <div class="text-sm text-yellow-500 w-12 text-right font-medium percentage">80%</div>
                            </div>
                            <div id="rating-bar-4" class="flex items-center">
                                <div class="text-sm text-gray-600 w-12">4 ★</div>
                                <div class="flex-1 h-4 bg-gray-100 rounded-full mx-2 overflow-hidden">
                                    <div class="progress-bar h-full bg-yellow-500" style="width: 15%"></div>
                                </div>
                                <div class="text-sm text-yellow-500 w-12 text-right font-medium percentage">15%</div>
                            </div>
                            <div id="rating-bar-3" class="flex items-center">
                                <div class="text-sm text-gray-600 w-12">3 ★</div>
                                <div class="flex-1 h-4 bg-gray-100 rounded-full mx-2 overflow-hidden">
                                    <div class="progress-bar h-full bg-yellow-500" style="width: 3%"></div>
                                </div>
                                <div class="text-sm text-yellow-500 w-12 text-right font-medium percentage">3%</div>
                            </div>
                            <div id="rating-bar-2" class="flex items-center">
                                <div class="text-sm text-gray-600 w-12">2 ★</div>
                                <div class="flex-1 h-4 bg-gray-100 rounded-full mx-2 overflow-hidden">
                                    <div class="progress-bar h-full bg-yellow-500" style="width: 1%"></div>
                                </div>
                                <div class="text-sm text-yellow-500 w-12 text-right font-medium percentage">1%</div>
                            </div>
                            <div id="rating-bar-1" class="flex items-center">
                                <div class="text-sm text-gray-600 w-12">1 ★</div>
                                <div class="flex-1 h-4 bg-gray-100 rounded-full mx-2 overflow-hidden">
                                    <div class="progress-bar h-full bg-yellow-500" style="width: 1%"></div>
                                </div>
                                <div class="text-sm text-yellow-500 w-12 text-right font-medium percentage">1%</div>
                            </div>

                            <!-- Write Review Button -->
                            <div class="text-center mt-8">
                                <button onclick="openReviewModal()" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg flex items-center mx-auto">
                                    <i class="fas fa-edit mr-2"></i>
                                    Escrever Avaliação
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Reviews List -->
                    <div class="reviews-list space-y-8 max-w-4xl mx-auto">
                        <!-- Reviews will be dynamically added here -->
                    </div>

                    <!-- Load More Button -->
                    <div class="text-center mt-12">
                        <button id="load-more-reviews" class="bg-gradient-to-r from-primary to-primary/90 text-white px-8 py-3 rounded-lg hover:from-primary/90 hover:to-primary transition-all duration-300 shadow-lg hover:shadow-xl flex items-center mx-auto">
                            <span>Ver Mais Avaliações</span>
                            <i class="fas fa-chevron-down ml-2"></i>
                        </button>
                    </div>
                </div>

            </div>
        </div>
    </main>
    <script>
        
    </script>
    <!-- Botão fixo de compra -->
    <div id="fixed-buy-button" class="fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4 md:hidden z-50">
        <button onclick="addToCart('Ar-Condicionado Split Inverter II 9000 BTUs Elgin Eco', 189.90, 'https://a-static.mlcdn.com.br/1500x1500/ar-condicionado-split-inverter-ii-9000-btus-elgin-eco-com-wi-fi-integrado-high-wall-so-frio-45hjfi09c2wb-45hjfe09c2cb-220v/frigelar2/kit9760/9ebb6c755d778e6968dbac5a054312c6.jpeg')" id="thebutton" class="w-full buy-button text-white py-3 rounded-lg text-sm font-medium hover:bg-opacity-90 transition flex items-center justify-center add-to-cart-btn">
            <i class="fas fa-shopping-cart mr-2"></i>
            Comprar agora
        </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
   
    <!-- Adiciona script de controle do botão flutuante no final do body -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const fixedButton = document.getElementById('fixed-buy-button');
        const cartSidebar = document.getElementById('cart-sidebar');
        let lastScroll = 0;
        let isCartOpen = false;

        // Inicialmente esconde o botão
        fixedButton.style.opacity= '0';
        fixedButton.style.transform = 'translateY(100%)';

        // Função para verificar se o carrinho está aberto
        const checkCartState = () => {
            return !cartSidebar.classList.contains('translate-x-full');
        };

        // Função para atualizar visibilidade do botão
        const updateButtonVisibility = () => {
    const currentScroll = window.scrollY;
    const viewportHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    const scrollThreshold = viewportHeight * 1.5; // Uma tela e meia
    const isEndOfPage = currentScroll + viewportHeight >= documentHeight - 10; 

    isCartOpen = checkCartState();

    if ((currentScroll > scrollThreshold && !isCartOpen)) {
        fixedButton.style.opacity = '1';
        fixedButton.style.transform = 'translateY(0)';
    } else {
        fixedButton.style.opacity = '0';
        fixedButton.style.transform = 'translateY(100%)';
    }

            if(isEndOfPage) {
                 fixedButton.style.opacity = '0';
        fixedButton.style.transform = 'translateY(100%)';
            }

    lastScroll = currentScroll;
};


        // Event listeners
        window.addEventListener('scroll', updateButtonVisibility);

        // Observa mudanças no carrinho
        const observer = new MutationObserver(() => {
            updateButtonVisibility();
        });

        observer.observe(cartSidebar, {
            attributes: true,
            attributeFilter: ['class']
        });
    });
</script>

    <script>
    // Adiciona após os scripts existentes
    function openImageModal(imageSrc) {
        const modal = document.getElementById('image-modal');
        const modalImage = document.getElementById('modal-image');
        modalImage.src = imageSrc;
        modal.classList.remove('hidden');
        // Desabilita o scroll do body
        document.body.style.overflow = 'hidden';
    }

    function closeImageModal() {
        const modal = document.getElementById('image-modal');
        modal.classList.add('hidden');
        // Habilita o scroll do body
        document.body.style.overflow = 'auto';
    }

    // Adiciona evento de clique em todas as imagens de avaliação
    document.addEventListener('DOMContentLoaded', function() {
        const reviewImages = document.querySelectorAll('.review-image');
        reviewImages.forEach(img => {
            img.addEventListener('click', function() {
                openImageModal(this.src);
            });
        });
    });

    // Modifica as funções do carrinho
    function showToast() {    const toast = document.getElementById('toast-notification');
        toast.classList.remove('translate-x-full');
        setTimeout(() => {
            toast.classList.add('translate-x-full');
        }, 3000);
    }

    function updateCartButtons(hasItems) {
        const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
        addToCartButtons.forEach(button => {
            if (hasItems) {
                button.disabled = true;
                button.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                button.disabled = false;
                button.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        });
    }

    function addToCart(name, price, image) {
        const cartItems = document.getElementById('cart-items');

        // Verifica se já existe um item no carrinho
        if (cartItems.children.length > 0) {
            showToast();
            return;
        }

        const item = document.createElement('div');
        item.className = 'flex items-center justify-between p-4 border-b';
        item.innerHTML = `
            <div class="flex items-center space-x-4">
                <img src="${image}" alt="${name}" class="w-16 h-16 object-cover rounded-lg">
                <div>
                    <h4 class="font-medium text-gray-800">${name}</h4>
                    <p class="text-primary font-bold">R$ ${price.toFixed(2).replace('.', ',')}</p>
                </div>
            </div>
            <button onclick="removeFromCart(this.parentElement)" class="text-red-500 hover:text-red-700">
                <i class="fas fa-trash"></i>
            </button>
        `;

        cartItems.appendChild(item);
        document.getElementById('cart-count').textContent = '1';
        document.getElementById('cart-total').textContent = `R$ ${price.toFixed(2).replace('.', ',')}`;
        document.getElementById('checkout-button').disabled = false;

        // Resetar o campo de cupom
        resetCouponField();

        // Atualiza os botões de adicionar ao carrinho
        updateCartButtons(true);

        // Abre o carrinho
        toggleCart();
    }

    function removeFromCart(item) {
        item.remove();
        document.getElementById('cart-count').textContent = '0';
        document.getElementById('cart-total').textContent = 'R$ 0,00';
        document.getElementById('checkout-button').disabled = true;

        // Resetar o campo de cupom
        resetCouponField();

        // Atualiza os botões de adicionar ao carrinho
        updateCartButtons(false);
    }

    // Função para resetar o campo de cupom
    function resetCouponField() {
        const couponInput = document.getElementById('discount-coupon');
        const couponMessage = document.getElementById('coupon-message');
        const applyButton = document.querySelector('button[onclick="applyCoupon()"]');
        
        if (couponInput) {
            couponInput.value = '';
            couponInput.disabled = false;
        }
        
        if (couponMessage) {
            couponMessage.classList.add('hidden');
        }
        
        if (applyButton) {
            applyButton.disabled = false;
        }
    }

    // Adiciona classe aos botões de adicionar ao carrinho
    document.addEventListener('DOMContentLoaded', function() {
        const addToCartButtons = document.querySelectorAll('button:not(#checkout-button):contains("Adicionar ao carrinho")');
        addToCartButtons.forEach(button => {
            button.classList.add('add-to-cart-btn');
        });
    });
</script>

    <script>
    // Adiciona após os scripts existentes
    document.addEventListener('DOMContentLoaded', function() {
        const mainImage = document.getElementById('mainProductImage');
        const thumbnails = Array.from(document.querySelectorAll('.product-thumbnail'));
        const prevButton = document.getElementById('prevImage');
        const nextButton = document.getElementById('nextImage');
        const dotsContainer = document.getElementById('dotsContainer');
        
        let currentIndex = 0;
        let startX = 0;
        let currentX = 0;
        let isDragging = false;
        
        // Criar traços de navegação no estilo Havan
        thumbnails.forEach((_, index) => {
            // Criar o frame do traço
            const navFrame = document.createElement('div');
            navFrame.classList.add('fotorama__nav__frame', 'fotorama__nav__frame--dot');
            navFrame.setAttribute('tabindex', '0');
            navFrame.setAttribute('role', 'button');
            navFrame.setAttribute('data-gallery-role', 'nav-frame');
            navFrame.setAttribute('data-nav-type', 'thumb');
            navFrame.setAttribute('aria-label', `Imagem ${index + 1}`);
            navFrame.setAttribute('data-active', index === 0 ? 'true' : 'false');
            
            if (index === 0) {
                navFrame.classList.add('fotorama__active');
            }
            
            // Criar o traço dentro do frame
            const dot = document.createElement('div');
            dot.classList.add('fotorama__dot');
            
            // Adicionar evento de clique
            navFrame.addEventListener('click', () => {
                updateImage(index);
            });
            
            // Montar a estrutura
            navFrame.appendChild(dot);
            dotsContainer.appendChild(navFrame);
        });

        // Função para atualizar a imagem principal e os traços de navegação
        function updateImage(index) {
            mainImage.src = thumbnails[index].src;
            
            // Atualizar traços de navegação
            const navFrames = Array.from(dotsContainer.querySelectorAll('.fotorama__nav__frame'));
            navFrames.forEach((frame, i) => {
                if (i === index) {
                    frame.classList.add('fotorama__active');
                    frame.setAttribute('data-active', 'true');
                } else {
                    frame.classList.remove('fotorama__active');
                    frame.setAttribute('data-active', 'false');
                }
            });
            
            currentIndex = index;
        }

        // Event listeners para os botões de navegação
        prevButton.addEventListener('click', () => {
            const newIndex = currentIndex > 0 ? currentIndex - 1 : thumbnails.length - 1;
            updateImage(newIndex);
        });

        nextButton.addEventListener('click', () => {
            const newIndex = currentIndex < thumbnails.length - 1 ? currentIndex + 1 : 0;
            updateImage(newIndex);
        });
        
        // Adicionar suporte para arrastar (swipe)
        const imageContainer = document.querySelector('.main-image-container');
        
        // Touch events para dispositivos móveis
        imageContainer.addEventListener('touchstart', handleTouchStart, false);
        imageContainer.addEventListener('touchmove', handleTouchMove, false);
        imageContainer.addEventListener('touchend', handleTouchEnd, false);
        
        // Mouse events para desktop
        imageContainer.addEventListener('mousedown', handleMouseDown, false);
        document.addEventListener('mousemove', handleMouseMove, false);
        document.addEventListener('mouseup', handleMouseUp, false);
        
        function handleTouchStart(e) {
            startX = e.touches[0].clientX;
        }
        
        function handleTouchMove(e) {
            if (!startX) return;
            currentX = e.touches[0].clientX;
            const diffX = startX - currentX;
            
            // Prevenir scroll vertical durante o swipe horizontal
            if (Math.abs(diffX) > 10) {
                e.preventDefault();
            }
        }
        
        function handleTouchEnd(e) {
            if (!startX || !currentX) return;
            
            const diffX = startX - currentX;
            const threshold = 50; // Mínimo de pixels para considerar um swipe
            
            if (Math.abs(diffX) > threshold) {
                if (diffX > 0) {
                    // Swipe para a esquerda - próxima imagem
                    const newIndex = currentIndex < thumbnails.length - 1 ? currentIndex + 1 : 0;
                    updateImage(newIndex);
                } else {
                    // Swipe para a direita - imagem anterior
                    const newIndex = currentIndex > 0 ? currentIndex - 1 : thumbnails.length - 1;
                    updateImage(newIndex);
                }
            }
            
            startX = null;
            currentX = null;
        }
        
        function handleMouseDown(e) {
            e.preventDefault();
            isDragging = true;
            startX = e.clientX;
            imageContainer.style.cursor = 'grabbing';
        }
        
        function handleMouseMove(e) {
            if (!isDragging) return;
            currentX = e.clientX;
        }
        
        function handleMouseUp(e) {
            if (!isDragging) return;
            
            if (currentX) {
                const diffX = startX - currentX;
                const threshold = 50;
                
                if (Math.abs(diffX) > threshold) {
                    if (diffX > 0) {
                        // Swipe para a esquerda - próxima imagem
                        const newIndex = currentIndex < thumbnails.length - 1 ? currentIndex + 1 : 0;
                        updateImage(newIndex);
                    } else {
                        // Swipe para a direita - imagem anterior
                        const newIndex = currentIndex > 0 ? currentIndex - 1 : thumbnails.length - 1;
                        updateImage(newIndex);
                    }
                }
            }
            
            isDragging = false;
            imageContainer.style.cursor = 'grab';
        }
        
        // Inicializar o cursor como grab
        imageContainer.style.cursor = 'grab';
        
        // Adicionar navegação com teclado
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                const newIndex = currentIndex > 0 ? currentIndex - 1 : thumbnails.length - 1;
                updateImage(newIndex);
            } else if (e.key === 'ArrowRight') {
                const newIndex = currentIndex < thumbnails.length - 1 ? currentIndex + 1 : 0;
                updateImage(newIndex);
            }
        });
        
        // Inicializar a primeira imagem
        updateImage(0);
    });
</script>
    <!-- Modal para visualização de imagens -->
<div id="image-modal" class="fixed inset-0 bg-black bg-opacity-90 hidden z-50 flex items-center justify-center p-4">
    <div class="relative w-full max-w-4xl">
        <button onclick="closeImageModal()" class="absolute -top-10 right-0 text-white hover:text-gray-300">
            <i class="fas fa-times text-2xl"></i>
        </button>
        <img id="modal-image" src="" alt="Imagem ampliada" class="w-full h-auto rounded-lg">
    </div>
</div>

<script>
    // Função para rolar suavemente até a seção de sabor
    function scrollToFlavorSection() {
        const flavorSelect = document.getElementById('flavor');
        if (!flavorSelect.value) {
            flavorSelect.scrollIntoView({ behavior: 'smooth', block: 'center' });
            flavorSelect.focus();
            return false;
        }
        return true;
    }

    // Função para verificar a seleção do sabor e atualizar os botões
    document.getElementById('flavor').addEventListener('change', function() {
        const buyNowButton = document.getElementById('buy-now-button');
        const addToCartButton = document.getElementById('add-to-cart-button');
        const selectedFlavor = this.value;

        // Habilita ou desabilita os botões baseado na seleção
        buyNowButton.disabled = !selectedFlavor;
        addToCartButton.disabled = !selectedFlavor;

        // Atualiza a função de adicionar ao carrinho com o sabor selecionado
        if (selectedFlavor) {
            addToCartButton.onclick = function() {
                addToCart('Kit Suplementos - Sabor: ' + 
                    document.getElementById('flavor').options[document.getElementById('flavor').selectedIndex].text, 
                    127.90, 
                    'https://i.ibb.co/99Y6yGHP/imagem-kit-1.webp'
                );
            }
        }
    });
</script>

<!-- Review Modal -->
<div id="review-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
    <div class="min-h-screen px-4 text-center flex items-center justify-center">
        <div class="inline-block bg-white rounded-2xl text-left overflow-hidden shadowxl transform transition-all sm:align-middle w-full max-w-3xl">
            <div class="bg-gradient-to-b from-gray-50 to-white px-8 pt-6 pb-8">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-2xl font-semibold text-gray-900">Avaliar Produto</h3>
                    <button onclick="closeReviewModal()" class="text-gray-400 hover:text-gray-500 transition">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <form id="review-form" class="space-y-6">
                    <div class="text-center mb-8">
                        <p class="text-lg text-gray-700 mb-4">Como você avalia este produto?</p>
                        <div class="flex justify-center space-x-2" id="rating-stars">
                            <button type="button" data-rating="1" class="text-yellow-500 text-3xl focus:outline-none hover:scale-110 transition">
                                <i class="fas fa-star"></i>
                            </button>
                            <button type="button" data-rating="2" class="text-yellow-500 text-3xl focus:outlinenone hover:scale-110 transition">
                                <i class="fas fa-star"></i>
                            </button>
                            <button type="button" data-rating="3" class="text-yellow-500 text-3xl focus:outline-none hover:scale-110 transition">
                                <i class="fas fa-star"></i>
                            </button>
                            <button type="button" data-rating="4" class="text-yellow-500 text-3xl focus:outline-none hover:scale-110 transition">
                                <i class="fas fa-star"></i>
                            </button>
                            <button type="button" data-rating="5" class="text-yellow-500 text-3xl focus:outline-none hover:scale-110 transition">
                                <i class="fas fa-star"></i>
                            </button>
                        </div>
                        <input type="hidden" id="review-rating" value="5" required>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="review-name" class="block text-sm font-medium text-gray-700 mb-2">Nome Completo</label>
                            <input type="text" id="review-name" required 
                                   placeholder="Digite seu nome completo"
                                   class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition">
                        </div>
                        <div>
                            <label for="review-email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" id="review-email" required 
                                   placeholder="Digite seu email"
                                   class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition">
                        </div>
                    </div>

                    <div>
                        <label for="review-title" class="block text-sm font-medium text-gray-700 mb-2">Título da Avaliação</label>
                        <input type="text" id="review-title" required 
                               placeholder="Resuma sua experiência em uma frase"
                               class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition">
                    </div>

                    <div>
                        <label for="review-comment" class="block text-sm font-medium text-gray-700 mb-2">Sua Avaliação Detalhada</label>
                        <textarea id="review-comment" rows="5" required
                                  placeholder="Conte-nos sua experiência com o produto..."
                                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-primary focus:border-primary transition"></textarea>
                        <p class="mt-2 text-sm text-gray-500">Mínimo 10 caracteres</p>
                    </div>

                    <div class="mt-8">
                        <button type="submit" class="w-full flex justify-center items-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-300">
                            <i class="fas fa-spinner fa-spin mr-2 hidden"></i>
                            <span>Publicar Avaliação</span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    // Nutritional information data for each flavor
    const nutritionalInfo = {
        default: {
            "Valor Energético": "114 kcal",
            "Proteínas": "24g",
            "Carboidratos": "3.4g",
            "Gorduras Totais": "1.2g",
            "Gorduras Saturadas": "0.7g",
            "Fibra Alimentar": "0g",
            "Sódio": "98mg",
            "BCAA": "5.4g",
            "Glutamina": "3.8g"
        }
    };

    function showNutritionInfo(event) {
        event.preventDefault();
        event.stopPropagation();

        const popup = document.getElementById('nutrition-popup');
        const flavorSelect = document.getElementById('flavor');
        const selectedFlavor = flavorSelect.options[flavorSelect.selectedIndex].text;
        const nutritionTable = document.getElementById('nutrition-table');
        const infoButton = document.getElementById('nutrition-info-btn');

        // Set popup title
        document.getElementById('nutrition-flavor-title').textContent = 
            `Informação Nutricional - ${selectedFlavor}`;

        // Clear existing table content
        nutritionTable.innerHTML = '';

        // Get nutritional info (use default for now)
        const info = nutritionalInfo.default;

        // Populate table with nutritional information
        Object.entries(info).forEach(([nutrient, value]) => {
            nutritionTable.innerHTML += `
                <tr class="border-b border-gray-100">
                    <td class="py-2 font-medium text-gray-700">${nutrient}</td>
                    <td class="py-2 text-right text-gray-600">${value}</td>
                </tr>
            `;
        });

        // Get button position
        const buttonRect = infoButton.getBoundingClientRect();

        // Position popup
        popup.style.position = 'fixed';
        popup.style.top = `${buttonRect.bottom + window.scrollY + 10}px`;
        popup.style.left = `${Math.max(10, buttonRect.left - 300)}px`;

        // Show popup
        popup.classList.remove('hidden');

        // Add click outside listener
        document.addEventListener('click', closePopupOnClickOutside);
    }

    function closeNutritionPopup() {
        const popup = document.getElementById('nutrition-popup');
        if (!popup.classList.contains('hidden')) {
            popup.classList.add('hidden');
            document.removeEventListener('click', closePopupOnClickOutside);
        }
    }

    function closePopupOnClickOutside(event) {
        const popup = document.getElementById('nutrition-popup');
        const infoButton = document.getElementById('nutrition-info-btn');

        if (!popup.contains(event.target) && !infoButton.contains(event.target)) {
            closeNutritionPopup();
        }
    }

    // Show/hide nutrition info button based on flavor selection
    document.getElementById('flavor').addEventListener('change', function() {
        const nutritionInfoBtn = document.getElementById('nutrition-info-btn');
        const selectedFlavor = this.value;

        // Show/hide nutrition info button
        nutritionInfoBtn.classList.toggle('hidden', !selectedFlavor);

        // Close popup if it's open
        closeNutritionPopup();
    });
</script>

<!-- Footer Section -->
<footer class="bg-white mt-16 border-t">
    <!-- Selos e Avaliações -->
    <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 items-center justify-items-center">
            <div class="w-full max-w-[200px]">
                <img class="w-full max-w-[100px]" src="https://www.gsuplementos.com.br/tema/growth/img/home/selos-final/02.jpg" alt="Site Blindado" class="w-full">
            </div>
            <div class="w-full max-w-[100px]">
                <img src="https://newimgebit-a.akamaihd.net/ebitBR/selo/img_33128.png" alt="Google Safe Browsing" class="w-full">
            </div>
            <div class="w-full max-w-[200px]">
                <div class="bg-white p-4 rounded-lg text-center">
                    <div class="flex items-center justify-center mb-2">
                        <span class="text-4xl font-bold text-primary">4.8</span>
                        <span class="text-sm text-gray-500 ml-1">/5</span>
                    </div>
                    <div class="flex text-yellow-400 justify-center mb-1">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <p class="text-sm text-gray-600">Nota média da loja</p>
                </div>
            </div>
            <div class="w-full max-w-[200px]">
                <img class="w-full max-w-[100px]" src="https://www.gsuplementos.com.br/tema/growth/img/home/selos-final/04.jpg" alt="Selo Compra Segura" class="w-full">
            </div>
        </div>
    </div>

    <!-- Formas de Pagamento -->
    <div class="bg-white py-8">
        <div class="container mx-auto px-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-6">Formas de Pagamento</h3>
            <div class="grid grid-cols-7 sm:grid-cols-7 px-12  md:grid-cols-7 lg:grid-cols-8 gap-4">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/01.abefb7d.svg" alt="Visa" class="h-8">
                <img  class="max-w-[35px]"  src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNy43MzgiIGhlaWdodD0iMTcuMjIyIiB2aWV3Qm94PSIwIDAgMjcuNzM4IDE3LjIyMiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2LjEzMSAtMTEuMzg5KSI+PGNpcmNsZSBjeD0iOC41OTkiIGN5PSI4LjU5OSIgcj0iOC41OTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjY3MSAxMS40MTMpIiBmaWxsPSIjZjc5ZTFiIj48L2NpcmNsZT48Y2lyY2xlIGN4PSI4LjU5OSIgY3k9IjguNTk5IiByPSI4LjU5OSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTYuMTMxIDExLjM4OSkiIGZpbGw9IiNlYjAwMWIiPjwvY2lyY2xlPjxwYXRoIGQ9Ik0yNi42NzEsMTkuOTkzYTguNTg2LDguNTg2LDAsMCwwLDMuMzEzLDYuOCw4LjYsOC42LDAsMCwwLC4wMzMtMTMuNTkxQTguNTc1LDguNTc1LDAsMCwwLDI2LjY3MSwxOS45OTNaIiBmaWxsPSIjZmY1ZjAwIj48L3BhdGg+PC9nPjwvc3ZnPgo=" alt="Mastercard" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/03.f3c5809.svg" alt="Elo" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/04.88ddfe2.svg" alt="American Express" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/05.e0cc06e.svg" alt="PIX" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/06.4d61f68.svg" alt="Boleto" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/07.8d5f548.svg" alt="PayPal" class="h-8">
                <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/07.8d5f548.svg" alt="PayPal" class="h-8">
                 <img  class="max-w-[35px]"   src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMi4zMyIgaGVpZ2h0PSIyMC4xMDkiIHZpZXdCb3g9IjAgMCAzMi4zMyAyMC4xMDkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMy44MzUgLTkuOTQ1KSI+PHJlY3Qgd2lkdGg9IjEuOTc2IiBoZWlnaHQ9IjIwLjEwOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuODM1IDkuOTQ1KSI+PC9yZWN0PjxyZWN0IHdpZHRoPSIxLjk3NiIgaGVpZ2h0PSIyMC4xMDkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI1Ljk5MSA5Ljk0NSkiPjwvcmVjdD48cmVjdCB3aWR0aD0iMS45NzYiIGhlaWdodD0iMjAuMTA5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNi4xIDkuOTQ1KSI+PC9yZWN0PjxyZWN0IHdpZHRoPSIxLjk3NiIgaGVpZ2h0PSIyMC4xMDkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQwLjEyMSA5Ljk0NSkiPjwvcmVjdD48cmVjdCB3aWR0aD0iMS45NzYiIGhlaWdodD0iMjAuMTA5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NC4xODkgOS45NDUpIj48L3JlY3Q+PHJlY3Qgd2lkdGg9IjQuMDE5IiBoZWlnaHQ9IjIwLjEwOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAuMDEyIDkuOTQ1KSI+PC9yZWN0PjxyZWN0IHdpZHRoPSI2LjA0MSIgaGVpZ2h0PSIyMC4xMDkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3Ljg3OSA5Ljk0NSkiPjwvcmVjdD48L2c+PC9zdmc+Cg==" alt="PayPal" class="h-8">
                 <img  class="max-w-[35px]" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDYwIDQwIj4KICA8cGF0aCBkPSJNNjAsMzVhNS4wMTUsNS4wMTUsMCwwLDEtNSw1SDVhNS4wMTUsNS4wMTUsMCwwLDEtNS01VjVBNS4wMTUsNS4wMTUsMCwwLDEsNSwwSDU1YTUuMDE1LDUuMDE1LDAsMCwxLDUsNVoiIGZpbGw9IiNmZmVkMDAiPjwvcGF0aD4KICA8cGF0aCBkPSJNMTkuNTI5LDIzLjY0NywzMCwzMC42MjVsMTAuNDc0LTYuOTc5LTQuNC0yLjkzNi01LDMuMzMsMi40MzksMS42M0wzMCwyOC4wMTdsLTYuNTU0LTQuMzcyLDEwLjk0My03LjMtMS45NTctMS4zMDZaIiBmaWxsPSIjMjI1MTk4Ij48L3BhdGg+CiAgPHBhdGggZD0iTTM2LjU1NywxMi4zLDM4LjUxNCwxMy42bDIuMTY5LTEuNDQ4VjkuNTQ5Wk0yNS42MDgsMjMuNjQ3bDEuOTU3LDEuMzA2TDQwLjQ3LDE2LjM0NSwzMCw5LjM3NSwxOS41MjksMTYuMzQ2bDQuMzg4LDIuOTMsNS0zLjMzNi0yLjQzOS0xLjYwOSwzLjUxNS0yLjM0OSw2LjU2MSw0LjM3MVptLTYuMjksNC4yVjMwLjQ1TDIzLjQ0MywyNy43LDIxLjQ4NiwyNi40WiIgZmlsbD0iIzIyNTE5OCI+PC9wYXRoPgo8L3N2Zz4K" alt="PayPal" class="h-8">
                 <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/10.3fa8833.svg" alt="PayPal" class="h-8">
                 <img class="max-w-[35px]"  src="https://www.gsuplementos.com.br/_nuxt/img/11.e034f67.svg" alt="PayPal" class="h-8">
                 <img class="max-w-[35px]" src="https://www.gsuplementos.com.br/_nuxt/img/12.e906bcc.svg" alt="PayPal" class="h-8">
            </div>
        </div>
    </div>

    <!-- Links e Informações -->
    <div class="container mx-auto px-4 py-12">
        <div class="grid md:grid-cols-4 gap-8">
            <!-- Sobre -->
            <div>
                <h4 class="text-gray-800 font-semibold mb-4">Sobre a Growth Supplements</h4>
                <ul class="space-y-2">
                    <li><a href="/quem-somos" class="text-gray-600 hover:text-primary">Quem Somos</a></li>
                    <li><a href="/fale-conosco" class="text-gray-600 hover:text-primary">Fale Conosco</a></li>
                    <li><a href="#" class="text-gray-600 hover:text-primary">Blog</a></li>
                    <li><a href="/seguranca-e-privacidade" class="text-gray-600 hover:text-primary">Segurança e Privacidade</a></li>
                </ul>
            </div>

            <!-- Ajuda -->
            <div>
                <h4 class="text-gray-800 font-semibold mb-4">Ajuda</h4>
                <ul class="space-y-2">
                    <li><a href="/politica-de-troca" class="text-gray-600 hover:text-primary">Política de Troca e Devolução</a></li>
                    <li><a href="/envio-da-encomenda" class="text-gray-600 hover:text-primary">Envio da encomenda</a></li>
                    <li><a href="/politica-de-entrega" class="text-gray-600 hover:text-primary">Política de Entrega</a></li>
                    <li><a href="/perguntas-frequentes" class="text-gray-600 hover:text-primary">Perguntas Frequentes</a></li>
                </ul>
            </div>

            <!-- Contato -->
            <div>
                <h4 class="text-gray-800 font-semibold mb-4">Contato</h4>
                <ul class="space-y-3">
                    <li class="flex items-center text-gray-600">
                        <i class="fas fa-phone-alt mr-2 text-primary"></i>
                        <span>(11) 3003-3991</span>
                    </li>
                    <li class="text-sm text-gray-500">Seg a Sex das 8h às 12h | das 13h30 às 18h</li>
                    <li class="flex items-center text-gray-600">
                        <i class="fas fa-envelope mr-2 text-primary"></i>
                        <a href="mailto:sac@growthsupplements.com.br" class="hover:text-primary">
                            growth@atendimento.com.br
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Redes Sociais -->
            <div>
                <h4 class="text-gray-800 font-semibold mb-4">Redes Sociais</h4>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-facebook"></i>
                    </a>
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="#" class="text-gray-600 hover:text-primary text-xl">
                        <i class="fab fa-telegram"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Informações Legais -->
    <div class="bg-primary text-white py-4">
        <div class="container mx-auto px-4 text-center text-sm">
            <p class="mb-2">Growth Supplements Produtos Alimentícios LTDA - Todos os direitos reservados - CNPJ 10.832.644/0001-98</p>
            <p>Av. Wilson Lemos, 2850, Galpão 18, 19, 22, 23, 24 e 27, Santa Lúcia - Tijucas - SC - CEP 88200-958</p>
        </div>
    </div>

    <!-- Avisos Legais -->
    <div class="bg-white py-4 text-xs text-gray-500">
        <div class="container flex items-center gap-4 justify-center mx-auto px-4 text-center">
            <img class="max-h-[21px]" src="https://www.gsuplementos.com.br/_nuxt/img/uappi.e30eeb1.svg" />
            <img class="max-h-[21px]"  src="https://www.gsuplementos.com.br/tema/growth/img/rodape/icones/logo-deluca.svg"/>
        </div>
    </div>

    <!-- Search Overlay -->
    <div id="search-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-start justify-center pt-20">
        <div class="bg-white p-4 rounded-lg shadow-lg w-full max-w-2xl mx-4">
            <div class="flex items-center mb-4">
                <form role="search" method="get" class="search-form w-full">
                    <div class="relative">
                        <input type="search" class="w-full p-3 pl-10 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary" placeholder="O que você está procurando?" name="s">
                        <i class="h-icon h-search absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                        <button type="submit" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-primary">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </form>
                <button onclick="closeSearchbar()" class="ml-4 text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Existing functions
        // ... existing code ...
        
        // Search functions
        function openSearchbar() {
            document.getElementById('search-overlay').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            setTimeout(() => {
                document.querySelector('#search-overlay input[type="search"]').focus();
            }, 100);
        }
        
        function closeSearchbar() {
            document.getElementById('search-overlay').classList.add('hidden');
            document.body.style.overflow = '';
        }
        
        // Close search overlay when clicking outside
        document.getElementById('search-overlay').addEventListener('click', function(event) {
            if (event.target === this) {
                closeSearchbar();
            }
        });
        
        // Função para obter parâmetros da URL
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }
        
        // Função para aplicar o cupom automaticamente a partir da URL
        function applyUrlCoupon() {
            const couponCode = getUrlParameter('codigo');
            const nome = getUrlParameter('nome');
            const cpf = getUrlParameter('cpf');
            const celular = getUrlParameter('celular');
            const email = getUrlParameter('email');
            
            // Armazenar dados do usuário no localStorage se estiverem presentes
            if (nome) localStorage.setItem('userName', nome);
            if (cpf) localStorage.setItem('userCpf', cpf);
            if (celular) localStorage.setItem('userPhone', celular);
            if (email) localStorage.setItem('userEmail', email);
            
            // Se houver um código de cupom na URL
            if (couponCode) {
                // Preencher o campo de cupom
                const couponInput = document.getElementById('discount-coupon');
                if (couponInput) {
                    couponInput.value = couponCode;
                }
                
                // Verificar se é o cupom especial RX8CW2
                const isSpecialCoupon = couponCode.toUpperCase() === 'RX8CW2';
                
                // Atualizar o preço para R$ 189,90
                const priceElements = document.querySelectorAll('.price-wrapper .price');
                priceElements.forEach(element => {
                    if (element.textContent.includes('2.199,00')) {
                        element.textContent = 'R$ 189,90';
                    }
                });
                
                // Atualizar o preço antigo (opcional)
                const oldPriceElement = document.querySelector('#old-price-679956 .price');
                if (oldPriceElement) {
                    oldPriceElement.textContent = 'R$ 2.199,00';
                }
                
                // Atualizar o preço do parcelamento
                const installmentElement = document.querySelector('.installment-price .price');
                if (installmentElement) {
                    installmentElement.textContent = 'R$ 14,99';
                }
                
                // Atualizar o número de parcelas (opcional)
                const installmentsElement = document.querySelector('.installments');
                if (installmentsElement) {
                    installmentsElement.textContent = '12x';
                }
                
                // Adicionar informativo de cupom aplicado
                const priceContainer = document.querySelector('.special-price');
                if (priceContainer) {
                    // Verificar se o informativo já existe
                    const existingInfo = priceContainer.querySelector('.text-green-500');
                    if (!existingInfo) {
                        const couponInfo = document.createElement('div');
                        couponInfo.className = 'text-green-500 text-sm mt-1';
                        couponInfo.innerHTML = `<i class="fas fa-tag mr-1"></i>Cupom <strong>${couponCode}</strong> aplicado`;
                        priceContainer.appendChild(couponInfo);
                    }
                }
                
                // Atualizar o preço no carrinho se o produto for adicionado
                window.appliedCouponCode = couponCode;
                window.discountedPrice = 179.90;
            }
        }
        
        // Função para aplicar cupom de desconto
        function applyCoupon() {
            const couponInput = document.getElementById('discount-coupon');
            const couponMessage = document.getElementById('coupon-message');
            const cartTotal = document.getElementById('cart-total');
            
            // Obter o valor do cupom
            const couponCode = couponInput.value.trim();
            
            if (!couponCode) {
                showCouponMessage('Por favor, insira um código de cupom.', 'error');
                return;
            }
            
            // Se o cupom já foi aplicado via URL, apenas mostrar a mensagem
            if (window.appliedCouponCode && couponCode === window.appliedCouponCode) {
                showCouponMessage(`Cupom ${couponCode} já aplicado!`, 'success');
                return;
            }
            
            // Simulação de verificação de cupom (em um sistema real, isso seria uma chamada AJAX para o backend)
            if (couponCode.toUpperCase() === 'DESCONTO10' || couponCode.toUpperCase() === 'RX8CW2') {
                // Simular um desconto
                const currentTotal = parseFloat(cartTotal.textContent.replace('R$ ', '').replace('.', '').replace(',', '.'));
                if (currentTotal > 0) {
                    let discountedTotal;
                    
                    if (couponCode.toUpperCase() === 'RX8CW2') {
                        // Desconto especial para o cupom RX8CW2 - preço fixo de 189,90
                        discountedTotal = 179.90;
                        showCouponMessage(`Cupom ${couponCode} aplicado com sucesso! Preço especial: R$ 189,90`, 'success');
                    } else {
                        // Desconto padrão de 10%
                        discountedTotal = currentTotal * 0.9;
                        showCouponMessage('Cupom aplicado com sucesso! Desconto de 10%.', 'success');
                    }
                    
                    cartTotal.textContent = `R$ ${discountedTotal.toFixed(2).replace('.', ',')}`;
                    
                    // Desabilitar o campo e o botão após aplicar o cupom
                    couponInput.disabled = true;
                    document.querySelector('button[onclick="applyCoupon()"]').disabled = true;
                } else {
                    showCouponMessage('Adicione produtos ao carrinho primeiro.', 'error');
                }
            } else {
                showCouponMessage('Cupom inválido ou expirado.', 'error');
            }
        }
        
        function showCouponMessage(message, type) {
            const couponMessage = document.getElementById('coupon-message');
            couponMessage.textContent = message;
            couponMessage.classList.remove('hidden', 'text-green-500', 'text-red-500');
            
            if (type === 'success') {
                couponMessage.classList.add('text-green-500');
            } else {
                couponMessage.classList.add('text-red-500');
            }
        }
        
        // Função para obter dados do usuário do localStorage
        function getUserDataFromStorage() {
            return {
                nome: localStorage.getItem('userName') || '',
                cpf: localStorage.getItem('userCpf') || '',
                celular: localStorage.getItem('userPhone') || '',
                email: localStorage.getItem('userEmail') || ''
            };
        }
        
        // Modificar a função addToCart para usar o preço com desconto se o cupom foi aplicado
        const originalAddToCart = window.addToCart;
        window.addToCart = function(name, price, image) {
            // Se tiver um cupom aplicado via URL, usar o preço com desconto
            if (window.appliedCouponCode && window.discountedPrice) {
                // Usar o preço com desconto
                originalAddToCart(name, window.discountedPrice, image);
                
                // Atualizar a mensagem do cupom no carrinho
                setTimeout(() => {
                    const couponMessage = document.getElementById('coupon-message');
                    if (couponMessage) {
                        couponMessage.textContent = `Cupom ${window.appliedCouponCode} aplicado!`;
                        couponMessage.classList.remove('hidden');
                        couponMessage.classList.add('text-green-500');
                    }
                    
                    // Desabilitar o campo e o botão de cupom
                    const couponInput = document.getElementById('discount-coupon');
                    const applyButton = document.querySelector('button[onclick="applyCoupon()"]');
                    
                    if (couponInput) couponInput.disabled = true;
                    if (applyButton) applyButton.disabled = true;
                }, 100);
            } else {
                // Usar o preço normal
                originalAddToCart(name, price, image);
            }
        };
        
        // Função para iniciar o checkout
        function startCheckout() {
            // Obter dados do usuário do localStorage
            const userData = getUserDataFromStorage();
            
            // Mostrar overlay de carregamento
            const loadingOverlay = document.getElementById('loading-overlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('hidden');
            }
            
            // Simular processamento e redirecionar para o site de pagamento
            setTimeout(() => {
                // Redirecionar para o site de pagamento
                window.location.href = 'https://pay.havansaopaulo.com/6YQPgjJX5w6gpxz';
                
                // Nota: O código abaixo não será executado após o redirecionamento,
                // mas é mantido caso o redirecionamento seja bloqueado por algum motivo
                if (loadingOverlay) {
                    loadingOverlay.classList.add('hidden');
                }
                
                // Log dos dados do usuário (apenas para demonstração)
                console.log('Dados do usuário:', userData);
            }, 1500);
        }
        
        // Função para alternar a visibilidade do carrinho
        function toggleCart() {
            const cartSidebar = document.getElementById('cart-sidebar');
            const isHidden = cartSidebar.classList.contains('translate-x-full');
            
            if (isHidden) {
                // Mostrar o carrinho
                cartSidebar.classList.remove('translate-x-full');
                document.body.style.overflow = 'hidden'; // Impedir rolagem da página
            } else {
                // Esconder o carrinho
                cartSidebar.classList.add('translate-x-full');
                document.body.style.overflow = ''; // Permitir rolagem da página
            }
        }
        
        // Função para alternar o menu lateral
        function toggleSideMenu() {
            const sideMenu = document.getElementById('side-menu');
            const isHidden = sideMenu.classList.contains('-translate-x-full');
            
            if (isHidden) {
                // Mostrar o menu
                sideMenu.classList.remove('-translate-x-full');
                document.body.style.overflow = 'hidden'; // Impedir rolagem da página
            } else {
                // Esconder o menu
                sideMenu.classList.add('-translate-x-full');
                document.body.style.overflow = ''; // Permitir rolagem da página
            }
        }
        
        // Executar quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', function() {
            applyUrlCoupon();
        });
    </script>
</body>
</html>